---
dependencies: []
galaxy_info:
  author: code@fclaerhout.fr
  description: >
    All things Build & Release.
    This role manages the provisioning of various B&R tools and services,
    including build environments, continuous integration services and package repositories.
    See the usage section for the exhaustive list of available components.
  license: MIT
  min_ansible_version: 1.8.4
  platforms:
  - name: Ubuntu
    versions:
    - all
  - name: Debian
    versions:
    - all
version: 0.1
prefix: relkit_
variables:
  relkit_environment: "Common environment variables, such as http_proxy"
  relkit_jenkins_state: "One of present, absent, ignored"
  relkit_jenkins_memory: "How much memory the JVM can use"
  relkit_jenkins_stable: "Boolean. If set, use Long Term Support (LTS) release"
  relkit_jenkins_http_port: "HTTP service port to bind"
  relkit_jenkins_http_address: "HTTP service address to bind"
  relkit_aptly_api_address: "API service address to bind"
  relkit_aptly_api_port: "API service port to bind"
  relkit_aptly_dl_address: "Download service address to bind"
  relkit_aptly_dl_port: "Download service port to bind"
  relkit_aptly_repositories: "List of dict {'name', 'distribution'}"
include_when:
  jenkins_present.yml: relkit_jenkins_state == "present"
  jenkins_absent.yml: relkit_jenkins_state == "absent"
  aptly_present.yml: relkit_aptly_state == "present"
usage_complement: >
  By default, this role does nothing as all `*_state` variables are set to `ignored`.
  For the components you're interested in, set the `*_state` variables to `present` or `absent`.
  As a best practice,
  all the configuration should be done in the inventory or varfiles, do not modify your taskfiles.

  The following components are available:
    * [Jenkins](http://jenkins-ci.org) — CI Service, `relkit_jenkins_*`
    * [Aptly](http://www.aptly.info) — Debian Repository, `relkit_aptly_*`
    * …

  **NOTICE!** Integration issues (accounts, firewalling, proxying…) are not managed by this role.
  Check out [ansible-role-syskit](https://github.com/fclaerho/ansible-role-syskit) as an option.
